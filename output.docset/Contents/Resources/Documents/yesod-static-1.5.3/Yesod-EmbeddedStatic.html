<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta><title>Yesod.EmbeddedStatic</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean"></link><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Yesod-EmbeddedStatic.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="../yesod-static-1.5.3/src/Yesod.EmbeddedStatic.html">Source</a></li><li><a href="../yesod-static-1.5.3/index.html">Contents</a></li><li><a href="../yesod-static-1.5.3/doc-index.html">Index</a></li></ul><p class="caption">yesod-static-1.5.3: Static file serving subsite for Yesod Web Framework.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Yesod.EmbeddedStatic</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#g:1">Subsite</a></li><li><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#g:2">Generators</a></li><li><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#section.orphans">Orphan instances</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>A subsite which serves static content which is embedded at compile time.</p><p>At compile time, you supply a list of files, directories, processing functions (like javascript
 minification), and even custom content generators.  You can also specify the specific relative
 locations within the static subsite where these resources should appear.  The <code><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:mkEmbeddedStatic">mkEmbeddedStatic</a></code>
 function then computes the resources and embeds them directly into the executable at
 compile time, so that the original files do not need to be distributed along with
 the executable.  The content is also compressed and hashed at compile time, so that
 during runtime the compressed content can be sent directly on the wire with the appropriate
 HTTP header.  The precomputed hash is used for an ETag so the client does not redownload
 the content multiple times.  There is also a development mode which does not embed the
 contents but recomputes it on every request. A simple example using an embedded static
 subsite is
 <a href="https://github.com/yesodweb/yesod/blob/master/yesod-static/sample-embed.hs">static-embed.hs</a>.</p><p>To add this to a scaffolded project, replace the code in <code>Settings/StaticFiles.hs</code>
 with a call to <code><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:mkEmbeddedStatic">mkEmbeddedStatic</a></code> with the list of all your generators, use the type
 <code><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a></code> in your site datatype for <code>getStatic</code>, update the route for <code>/static</code> to
 use the type <code><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a></code>, use <code><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:embedStaticContent">embedStaticContent</a></code> for <code>addStaticContent</code> in
 <code>Foundation.hs</code>, use the routes generated by <code><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:mkEmbeddedStatic">mkEmbeddedStatic</a></code> and exported by
 <code>Settings/StaticFiles.hs</code> to link to your static content, and finally update
 <code>Application.hs</code> use the variable binding created by <code><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:mkEmbeddedStatic">mkEmbeddedStatic</a></code> which
 contains the created <code><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a></code>.</p><p>It is recommended that you serve static resources from a separate domain to save time
 on transmitting cookies.  You can use <code>urlParamRenderOverride</code> to do so, by redirecting
 routes to this subsite to a different domain (but the same path) and then pointing the
 alternative domain to this server.  In addition, you might consider using a reverse
 proxy like varnish or squid to cache the static content, but the embedded content in
 this subsite is cached and served directly from memory so is already quite fast.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a></li><li class="src short"><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:embeddedResourceR">embeddedResourceR</a> :: [<a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a>] -&gt; [(<a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a>, <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a>)] -&gt; <a href="../yesod-static-1.5.3/Yesod-Static.html#t:Route">Route</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a></li><li class="src short"><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:mkEmbeddedStatic">mkEmbeddedStatic</a> :: <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; [<a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic-Types.html#t:Generator">Generator</a>] -&gt; <a href="../template-haskell-2.11.1.0/Language-Haskell-TH-Syntax.html#t:Q">Q</a> [<a href="../template-haskell-2.11.1.0/Language-Haskell-TH-Syntax.html#t:Dec">Dec</a>]</li><li class="src short"><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:embedStaticContent">embedStaticContent</a> :: (site -&gt; <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a>) -&gt; (<a href="../yesod-static-1.5.3/Yesod-Static.html#t:Route">Route</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a> -&gt; <a href="../yesod-static-1.5.3/Yesod-Static.html#t:Route">Route</a> site) -&gt; (<a href="../bytestring-0.10.8.1/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="../base-4.9.1.0/Data-Either.html#t:Either">Either</a> a <a href="../bytestring-0.10.8.1/Data-ByteString-Lazy.html#t:ByteString">ByteString</a>) -&gt; AddStaticContent site</li><li class="src short">module <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic-Generators.html">Yesod.EmbeddedStatic.Generators</a></li></ul></div><div id="interface"><h1 id="g:1">Subsite</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:EmbeddedStatic" class="def">EmbeddedStatic</a> <a href="../yesod-static-1.5.3/src/Yesod.EmbeddedStatic.Internal.html#EmbeddedStatic" class="link">Source</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic" class="selflink">#</a></p><div class="doc"><p>The subsite for the embedded static file server.</p></div><div class="subs instances"><p id="control.i:EmbeddedStatic" class="caption collapser" onclick="toggleSection('i:EmbeddedStatic')">Instances</p><div id="section.i:EmbeddedStatic" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:EmbeddedStatic:RenderRoute:1" class="instance expander" onclick="toggleSection('i:id:EmbeddedStatic:RenderRoute:1')"></span> <a href="../yesod-core-1.4.35/Yesod-Core.html#t:RenderRoute">RenderRoute</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a></span> <a href="../yesod-static-1.5.3/src/Yesod.EmbeddedStatic.Internal.html#line-59" class="link">Source</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic" class="selflink">#</a></td><td class="doc empty"> </td></tr><tr><td colspan="2"><div id="section.i:id:EmbeddedStatic:RenderRoute:1" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a href="../yesod-static-1.5.3/Yesod-Static.html#t:Route">Route</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a> :: <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:Route" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:renderRoute">renderRoute</a> :: <a href="../yesod-static-1.5.3/Yesod-Static.html#t:Route">Route</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a> -&gt; ([<a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a>], [(<a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a>, <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a>)]) <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:renderRoute" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:EmbeddedStatic:ParseRoute:2" class="instance expander" onclick="toggleSection('i:id:EmbeddedStatic:ParseRoute:2')"></span> <a href="../yesod-core-1.4.35/Yesod-Core.html#t:ParseRoute">ParseRoute</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a></span> <a href="../yesod-static-1.5.3/src/Yesod.EmbeddedStatic.Internal.html#line-65" class="link">Source</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic" class="selflink">#</a></td><td class="doc empty"> </td></tr><tr><td colspan="2"><div id="section.i:id:EmbeddedStatic:ParseRoute:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:parseRoute">parseRoute</a> :: ([<a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a>], [(<a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a>, <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a>)]) -&gt; <a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../yesod-static-1.5.3/Yesod-Static.html#t:Route">Route</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a>) <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:parseRoute" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:EmbeddedStatic:Eq:3" class="instance expander" onclick="toggleSection('i:id:EmbeddedStatic:Eq:3')"></span> <a href="../base-4.9.1.0/Data-Eq.html#t:Eq">Eq</a> (<a href="../yesod-static-1.5.3/Yesod-Static.html#t:Route">Route</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a>)</span> <a href="../yesod-static-1.5.3/src/Yesod.EmbeddedStatic.Internal.html#line-62" class="link">Source</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic" class="selflink">#</a></td><td class="doc empty"> </td></tr><tr><td colspan="2"><div id="section.i:id:EmbeddedStatic:Eq:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:-61--61-">(==)</a> :: <a href="../yesod-static-1.5.3/Yesod-Static.html#t:Route">Route</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a> -&gt; <a href="../yesod-static-1.5.3/Yesod-Static.html#t:Route">Route</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a> -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:-47--61-">(/=)</a> :: <a href="../yesod-static-1.5.3/Yesod-Static.html#t:Route">Route</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a> -&gt; <a href="../yesod-static-1.5.3/Yesod-Static.html#t:Route">Route</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a> -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:-47--61-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:EmbeddedStatic:Read:4" class="instance expander" onclick="toggleSection('i:id:EmbeddedStatic:Read:4')"></span> <a href="../base-4.9.1.0/Text-Read.html#t:Read">Read</a> (<a href="../yesod-static-1.5.3/Yesod-Static.html#t:Route">Route</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a>)</span> <a href="../yesod-static-1.5.3/src/Yesod.EmbeddedStatic.Internal.html#line-62" class="link">Source</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic" class="selflink">#</a></td><td class="doc empty"> </td></tr><tr><td colspan="2"><div id="section.i:id:EmbeddedStatic:Read:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:readsPrec">readsPrec</a> :: <a href="../base-4.9.1.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.9.1.0/Text-ParserCombinators-ReadP.html#t:ReadS">ReadS</a> (<a href="../yesod-static-1.5.3/Yesod-Static.html#t:Route">Route</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a>) <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:readsPrec" class="selflink">#</a></p><p class="src"><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:readList">readList</a> :: <a href="../base-4.9.1.0/Text-ParserCombinators-ReadP.html#t:ReadS">ReadS</a> [<a href="../yesod-static-1.5.3/Yesod-Static.html#t:Route">Route</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a>] <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:readList" class="selflink">#</a></p><p class="src"><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:readPrec">readPrec</a> :: <a href="../base-4.9.1.0/Text-ParserCombinators-ReadPrec.html#t:ReadPrec">ReadPrec</a> (<a href="../yesod-static-1.5.3/Yesod-Static.html#t:Route">Route</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a>) <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:readPrec" class="selflink">#</a></p><p class="src"><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:readListPrec">readListPrec</a> :: <a href="../base-4.9.1.0/Text-ParserCombinators-ReadPrec.html#t:ReadPrec">ReadPrec</a> [<a href="../yesod-static-1.5.3/Yesod-Static.html#t:Route">Route</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a>] <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:readListPrec" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:EmbeddedStatic:Show:5" class="instance expander" onclick="toggleSection('i:id:EmbeddedStatic:Show:5')"></span> <a href="../base-4.9.1.0/Text-Show.html#t:Show">Show</a> (<a href="../yesod-static-1.5.3/Yesod-Static.html#t:Route">Route</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a>)</span> <a href="../yesod-static-1.5.3/src/Yesod.EmbeddedStatic.Internal.html#line-62" class="link">Source</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic" class="selflink">#</a></td><td class="doc empty"> </td></tr><tr><td colspan="2"><div id="section.i:id:EmbeddedStatic:Show:5" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:showsPrec">showsPrec</a> :: <a href="../base-4.9.1.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../yesod-static-1.5.3/Yesod-Static.html#t:Route">Route</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a> -&gt; <a href="../base-4.9.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:show">show</a> :: <a href="../yesod-static-1.5.3/Yesod-Static.html#t:Route">Route</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a> -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:show" class="selflink">#</a></p><p class="src"><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:showList">showList</a> :: [<a href="../yesod-static-1.5.3/Yesod-Static.html#t:Route">Route</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a>] -&gt; <a href="../base-4.9.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:showList" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:EmbeddedStatic:Route:6" class="instance expander" onclick="toggleSection('i:id:EmbeddedStatic:Route:6')"></span> <span class="keyword">data</span> <a href="../yesod-static-1.5.3/Yesod-Static.html#t:Route">Route</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a></span> <a href="../yesod-static-1.5.3/src/Yesod.EmbeddedStatic.Internal.html#line-60" class="link">Source</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic" class="selflink">#</a></td><td class="doc empty"> </td></tr><tr><td colspan="2"><div id="section.i:id:EmbeddedStatic:Route:6" class="inst-details hide"><div class="src"><span class="keyword">data</span> <a href="../yesod-static-1.5.3/Yesod-Static.html#t:Route">Route</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a> <ul class="inst"><li class="inst">= <a id="v:EmbeddedResourceR" class="def">EmbeddedResourceR</a> [<a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a>] [(<a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a>, <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a>)]</li><li class="inst">| <a id="v:EmbeddedWidgetR" class="def">EmbeddedWidgetR</a> <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a></li></ul></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:embeddedResourceR" class="def">embeddedResourceR</a> :: [<a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a>] -&gt; [(<a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a>, <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a>)] -&gt; <a href="../yesod-static-1.5.3/Yesod-Static.html#t:Route">Route</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a> <a href="../yesod-static-1.5.3/src/Yesod.EmbeddedStatic.html#embeddedResourceR" class="link">Source</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:embeddedResourceR" class="selflink">#</a></p><div class="doc"><p>Construct a route to an embedded resource.</p></div></div><div class="top"><p class="src"><a id="v:mkEmbeddedStatic" class="def">mkEmbeddedStatic</a> <a href="../yesod-static-1.5.3/src/Yesod.EmbeddedStatic.html#mkEmbeddedStatic" class="link">Source</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:mkEmbeddedStatic" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a></td><td class="doc"><p>development?</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a></td><td class="doc"><p>variable name for the created <code><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a></code></p></td></tr><tr><td class="src">-&gt; [<a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic-Types.html#t:Generator">Generator</a>]</td><td class="doc"><p>the generators (see <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic-Generators.html">Yesod.EmbeddedStatic.Generators</a>)</p></td></tr><tr><td class="src">-&gt; <a href="../template-haskell-2.11.1.0/Language-Haskell-TH-Syntax.html#t:Q">Q</a> [<a href="../template-haskell-2.11.1.0/Language-Haskell-TH-Syntax.html#t:Dec">Dec</a>]</td><td class="doc empty"> </td></tr></table></div><div class="doc"><p>Creates an <code><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a></code> by running, at compile time, a list of generators. 
 Each generator produces a list of entries to embed into the executable.</p><p>This template haskell splice creates a variable binding holding the resulting
 <code><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a></code> and in addition creates variable bindings for all the routes
 produced by the generators.  For example, if a directory called static has
 the following contents:</p><ul><li>js/jquery.js</li><li>css/bootstrap.css</li><li>img/logo.png</li></ul><p>then a call to</p><pre>#ifdef DEVELOPMENT
#define DEV_BOOL True
#else
#define DEV_BOOL False
#endif
mkEmbeddedStatic DEV_BOOL &quot;myStatic&quot; [embedDir &quot;static&quot;]</pre><p>will produce variables</p><pre>myStatic :: EmbeddedStatic
js_jquery_js :: Route EmbeddedStatic
css_bootstrap_css :: Route EmbeddedStatic
img_logo_png :: Route EmbeddedStatic</pre></div></div><div class="top"><p class="src"><a id="v:embedStaticContent" class="def">embedStaticContent</a> <a href="../yesod-static-1.5.3/src/Yesod.EmbeddedStatic.html#embedStaticContent" class="link">Source</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:embedStaticContent" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (site -&gt; <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a>)</td><td class="doc"><p>How to retrieve the embedded static subsite from your site</p></td></tr><tr><td class="src">-&gt; (<a href="../yesod-static-1.5.3/Yesod-Static.html#t:Route">Route</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a> -&gt; <a href="../yesod-static-1.5.3/Yesod-Static.html#t:Route">Route</a> site)</td><td class="doc"><p>how to convert an embedded static route</p></td></tr><tr><td class="src">-&gt; (<a href="../bytestring-0.10.8.1/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="../base-4.9.1.0/Data-Either.html#t:Either">Either</a> a <a href="../bytestring-0.10.8.1/Data-ByteString-Lazy.html#t:ByteString">ByteString</a>)</td><td class="doc"><p>javascript minifier</p></td></tr><tr><td class="src">-&gt; AddStaticContent site</td><td class="doc empty"> </td></tr></table></div><div class="doc"><p>Use this for <code>addStaticContent</code> to have the widget static content be served by
   the embedded static subsite.  For example,</p><pre>import Yesod
import Yesod.EmbeddedStatic
import Text.Jasmine (minifym)

data MySite = { ..., getStatic :: EmbeddedStatic, ... }

mkYesod &quot;MySite&quot; [parseRoutes|
...
/static StaticR EmbeddedStatic getStatic
...
|]

instance Yesod MySite where
    ...
    addStaticContent = embedStaticContent getStatic StaticR mini
        where mini = if development then Right else minifym
    ...</pre></div></div><h1 id="g:2">Generators</h1><div class="top"><p class="src">module <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic-Generators.html">Yesod.EmbeddedStatic.Generators</a></p></div><h1>Orphan instances</h1><div id="section.orphans" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:o:ic:YesodSubDispatch:YesodSubDispatch:1" class="instance expander" onclick="toggleSection('i:o:ic:YesodSubDispatch:YesodSubDispatch:1')"></span> <a href="../yesod-core-1.4.35/Yesod-Core.html#t:YesodSubDispatch">YesodSubDispatch</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a> (<a href="../yesod-core-1.4.35/Yesod-Core-Types.html#t:HandlerT">HandlerT</a> master <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a>)</span> <a href="../yesod-static-1.5.3/src/Yesod.EmbeddedStatic.html#line-84" class="link">Source</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:-36-fYesodSubDispatchEmbeddedStaticHandlerT" class="selflink">#</a></td><td class="doc empty"> </td></tr><tr><td colspan="2"><div id="section.i:o:ic:YesodSubDispatch:YesodSubDispatch:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:yesodSubDispatch">yesodSubDispatch</a> :: <a href="../yesod-core-1.4.35/Yesod-Core-Types.html#t:YesodSubRunnerEnv">YesodSubRunnerEnv</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#t:EmbeddedStatic">EmbeddedStatic</a> (<a href="../yesod-core-1.4.35/Yesod-Core.html#t:HandlerSite">HandlerSite</a> (<a href="../yesod-core-1.4.35/Yesod-Core-Types.html#t:HandlerT">HandlerT</a> master <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a>)) (<a href="../yesod-core-1.4.35/Yesod-Core-Types.html#t:HandlerT">HandlerT</a> master <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a>) -&gt; <a href="../wai-3.2.1.1/Network-Wai.html#t:Application">Application</a> <a href="../yesod-static-1.5.3/Yesod-EmbeddedStatic.html#v:yesodSubDispatch" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>